<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Nemo System — Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:monospace}
:root{--red:#b00000;--dark:#050505;--gray:#777}
body{background:var(--dark);color:#fff;height:100vh;overflow:hidden}
header{height:60px;border-bottom:1px solid var(--red);display:flex;justify-content:space-between;align-items:center;padding:0 20px}
header h1{color:var(--red);letter-spacing:2px}
header img{width:40px;filter:grayscale(100%)}
.wrapper{display:flex;height:calc(100vh - 60px)}
.sidebar{width:220px;border-right:1px solid var(--red);padding:15px}
.sidebar button{width:100%;background:transparent;border:1px solid var(--red);color:#fff;padding:10px;margin-bottom:10px;cursor:pointer}
.sidebar button:hover{background:var(--red);box-shadow:0 0 10px var(--red)}
.main{flex:1;padding:20px;overflow:auto}
.box{max-width:400px;border:1px solid var(--red);padding:20px}
.box input{width:100%;padding:10px;margin:10px 0;background:#000;border:1px solid var(--gray);color:#fff}
.box button{width:100%;padding:10px;background:var(--red);border:none;cursor:pointer}
.terminal{background:#000;border:1px solid var(--red);padding:15px;margin-bottom:15px;height:140px;overflow:auto}
.terminal span{color:var(--red)}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}
.card{border:1px solid var(--red);padding:15px}
.card button{width:100%;margin-top:10px;padding:8px;background:#000;border:1px solid var(--red);color:#fff;cursor:pointer}
.card button:hover{background:var(--red)}
.hidden{display:none}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center}
.modal .content{background:#000;border:1px solid var(--red);padding:20px;width:420px}
footer{text-align:center;color:#444;padding:10px}
</style>
</head>

<body>
<header>
  <h1>NEMO SYSTEM</h1>
  <img src="https://cdn-icons-png.flaticon.com/512/924/924915.png">
</header>

<div class="wrapper">
  <div class="sidebar">
    <button onclick="showLogin()">Login</button>
    <button onclick="showRegister()">Registrar</button>
    <button onclick="openPainel()">Painel Nemo</button>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="main">
    <div id="loginBox" class="box">
      <h2>Login</h2>
      <input id="lUser" placeholder="Usuário">
      <input id="lPass" type="password" placeholder="Senha">
      <button onclick="login()">Entrar</button>
    </div>

    <div id="registerBox" class="box hidden">
      <h2>Registro</h2>
      <input id="rUser" placeholder="Usuário">
      <input id="rPass" type="password" placeholder="Senha">
      <button onclick="register()">Criar Conta</button>
    </div>

    <div id="painelBox" class="hidden">
      <div class="terminal" id="terminal"></div>
      <p>Usuário: <b id="userName"></b> | Role: <b id="userRole"></b></p>

      <canvas id="chart" width="400" height="120"></canvas>

      <div class="cards">
        <div class="card"><h3>Scanner</h3><button onclick="openModal('scanner')">Abrir</button></div>
        <div class="card"><h3>Network</h3><button onclick="openModal('network')">Abrir</button></div>
        <div class="card"><h3>Tools</h3><button onclick="openModal('tools')">Abrir</button></div>
        <div class="card"><h3>Config</h3><button onclick="openModal('config')">Abrir</button></div>
        <div class="card admin"><h3>Admin</h3><button onclick="openModal('admin')">Abrir</button></div>
      </div>
    </div>
  </div>
</div>

<footer>Nemo System © 2026</footer>

<div id="modal" class="modal">
  <div class="content">
    <h3 id="modalTitle"></h3>
    <div id="modalBody"></div>
    <button onclick="closeModal()">Fechar</button>
  </div>
</div>

<script>
const ADMIN_USER="Nemo",ADMIN_PASS="gustavo270908";

/* HASH */
async function hash(t){
  const e=new TextEncoder().encode(t);
  const b=await crypto.subtle.digest("SHA-256",e);
  return [...new Uint8Array(b)].map(x=>x.toString(16).padStart(2,"0")).join("");
}

/* ADMIN AUTO */
(async()=>{
  if(!localStorage.getItem("user_"+ADMIN_USER)){
    localStorage.setItem("user_"+ADMIN_USER,await hash(ADMIN_PASS));
    localStorage.setItem("role_"+ADMIN_USER,"admin");
    localStorage.setItem("meta_"+ADMIN_USER,JSON.stringify({banned:false,logins:[]}));
  }
})();

let logs=[];
function log(m){
  logs.push(m);
  terminal.innerHTML+=`<span>> ${m}</span><br>`;
}

/* AUTH */
async function register(){
  if(rUser.value===ADMIN_USER) return alert("Usuário reservado");
  localStorage.setItem("user_"+rUser.value,await hash(rPass.value));
  localStorage.setItem("role_"+rUser.value,"user");
  localStorage.setItem("meta_"+rUser.value,JSON.stringify({banned:false,logins:[]}));
  alert("Conta criada");
  showLogin();
}

async function login(){
  const u=lUser.value;
  if(localStorage.getItem("user_"+u)!==await hash(lPass.value)) return alert("Erro");
  localStorage.setItem("session",u);
  openPainel();
}

function logout(){
  localStorage.removeItem("session");
  location.reload();
}

/* UI */
function hideAll(){
  loginBox.classList.add("hidden");
  registerBox.classList.add("hidden");
  painelBox.classList.add("hidden");
}
function showLogin(){hideAll();loginBox.classList.remove("hidden")}
function showRegister(){hideAll();registerBox.classList.remove("hidden")}

function openPainel(){
  const u=localStorage.getItem("session");
  if(!u) return;
  hideAll();
  painelBox.classList.remove("hidden");
  userName.textContent=u;
  userRole.textContent=localStorage.getItem("role_"+u);
  document.querySelector(".admin").style.display=(u===ADMIN_USER)?"block":"none";
  document.querySelectorAll(".sidebar button")[0].style.display="none";
  document.querySelectorAll(".sidebar button")[1].style.display="none";
  log("Sistema iniciado");
  startChart();
}

/* MODAL */
function openModal(t){
  modal.style.display="flex";
  modalTitle.textContent=t;
  modalBody.innerHTML=`<p>${t} ativo</p>`;
}
function closeModal(){modal.style.display="none"}

/* CHART */
let ctx=document.getElementById("chart").getContext("2d"),data=[];
function startChart(){
  setInterval(()=>{
    data.push(Math.random()*100);
    if(data.length>20)data.shift();
    ctx.clearRect(0,0,400,120);
    ctx.beginPath();
    data.forEach((v,i)=>ctx.lineTo(i*20,120-v));
    ctx.stroke();
  },1000);
}

if(localStorage.getItem("session")) openPainel();
</script>
</body>
</html>
